if event.images.length > 0
  div :class => "image-container" do
    img :src => event.images.first.attachment.url(:medium_detail_column)
  end
end

if event.type.name == "Performance-Projekt" || event.type.name == "Workshop"
  render :partial => "/events/details/durations", :locals => {:event => event}
else
  render :partial => "/events/details/moments", :locals => {:event => event}
end

if event.type.name == "Workshop" && event.event_details.length > 1
  small do
    render :partial => "/events/details/workshop_days", :locals => {:event => event}
  end
end

if event.price_regular
  small do
    if event.type.name == "Workshop"
      text_node t(:price_workshop) + " "
      text_node number_to_currency event.price_regular
      if event.price_reduced
        frühbuchertext = t(:price_reduced_limit) + " " + l(event.early_bird_date, :format => :day)
        span " ("
        abbr number_to_currency(event.price_reduced), :title => frühbuchertext
        sup "*"
        span ")" 
        div do 
          sup "*"
          span frühbuchertext
        end
      end
    else
      text_node t(:price_event) + " "
      text_node number_to_currency event.price_regular, :format => "%n"
      if event.price_reduced
        text_node " / "
        text_node number_to_currency event.price_reduced, :format => "%n"      
      end
      text_node " "
      text_node number_to_currency event.price_reduced, :format => "%u"         
    end
  end
end

small editable event, :info, :type => "wysihtml5"

if event.event_details.first.studio && event.event_details.none? { |ed| ed.custom_place }
  small event.event_details.first.studio.location.address
end

if event.images.length > 0 && !event.images.first.license.empty?
  small event.images.first.license
end